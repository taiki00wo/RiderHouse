<header class="sticky-top">
  <nav class="navbar navbar-expand-lg bg-info">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <%= link_to 'ライダーハウス登録', new_riderhouse_path, class: 'nav-link text-light'%>
      </li>
      <li class="nav-item">
        <%= link_to 'ライダーハウス一覧', riderhouses_path, class: 'nav-link text-light' %>
      </li>
      <li class="nav-item">
        <%= link_to 'Google Map', riderhouses_index_map_path, class: 'nav-link text-light' %>
      </li>
      <li class="nav-item">
        <% if current_user.nil? %>
          <%= link_to 'ログイン', new_user_session_path, class: 'nav-link text-light'%>
        <% end %>
      </li>
    </ul>

    <% if current_user %>
    <ul class="navbar-nav">
      <li class="nav-item">
      <%# もし現在のユーザーに画像があれば、表示する。無ければ,デフォルト画像を表示 %>
        <% if current_user.present? && current_user.image.url %>    
          <%= image_tag(current_user.image.url, :size =>'50x50', class: 'rouded-circle') %>
        <% elsif current_user.present? %>
          <%= image_tag('/images/user_default.jpeg', :size =>'50x50', class: 'rounded-circle') %>
        <% end %>
      </li>
      <li class="nav-item　dropdown"> 
        <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="text-light"><%= current_user.name %></span>
        </a>
        <div class="dropdown-menu dropdown-menu-right">
          <%= link_to 'ログアウト', destroy_user_session_path, method: :delete, class: 'dropdown-item' %>
          <%= link_to 'お気に入り', favorites_path, class: 'dropdown-item' %>
          <%= link_to 'ユーザー編集', edit_user_registration_path, class: 'dropdown-item' %>
          <%= link_to 'プロフィール編集', edit_user_path(current_user), class: 'dropdown-item' %>
        </div>
      </li>
    </ul>
    <% end %>
  </nav>
</header>